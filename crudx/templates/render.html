<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background: #383838;
      font-family: Verdana, Geneva, Tahoma, sans-serif;
      max-height: 100vh;
      overflow: hidden;
    }

    .container {
      margin: 10rem auto;
      max-width: 300px;
      align-items: center;
      color: black;
      padding: 8px;
      text-align: center;
      border-radius: 6px;
    }


    button{
      display: inline-block;
      padding: 7px;
      background: rgb(179, 19, 19);
      color: wheat;
      width: 74%;
      border-radius: 4px;
      border: 0;
      outline: none;
    }

    button:active{
      transition: all 0.4s ease;
      transform: scale(0.78787);
      background: rgb(154, 12, 12);
    }

    select{
      border: 0;
      width: 60%;
      margin: 10px;
      padding: 3px 5px;
      border-radius: 4px;
      background: rgb(68, 66, 66);
    }
    select:focus{
      outline: none;
    }

    select option{
      background: rgb(158, 65, 65);
      color: #fff;
    }

    select option:hover{
      background: purple;
      color: navajowhite;
    }
  </style>
</head>

<body>

  <div class="container">
    <button id="go" onclick="run()">Go</button>

    <select id="choose">
      <option>Deny</option>
      <option>Allow</option>
    </select>
  </div>


  <script>
    const run=async ()=>{
      let selected= document.getElementById("choose").value;
      let header_val=""
      
      if(selected === "Deny"){
        header_val= "render_mobile"
        
      }
      else{
        selected= false
        header_val="render_desktop"
      }

      let request_params= {
        method:"GET",
        headers: {"details":`${header_val}`}
      }

      let res= await fetch("http://127.0.0.1:8000/land/render-dynamic",request_params)
      if(res.redirected){
        let url= res.url
        window.location.replace(url)
      }
      
    }
  </script>
</body>

</html>